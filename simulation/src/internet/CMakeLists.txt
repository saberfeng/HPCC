set(name internet)

set(nsc_sources)
set(nsc_headers)
if(${NS3_NSC})
  set(nsc_sources nsc-sysctl.cc nsc-tcp-l4-protocol.cc nsc-tcp-socket-factory-impl.cc nsc-tcp-socket-impl.cc)
  set(nsc_headers nsc-sysctl.h nsc-tcp-l4-protocol.h nsc-tcp-socket-factory-impl.h nsc-tcp-socket-impl.h)
endif()

set(source_files
    model/arp-cache.cc
    model/arp-header.cc
    model/arp-l3-protocol.cc
    model/candidate-queue.cc
    model/global-route-manager-impl.cc
    model/global-route-manager.cc
    model/global-router-interface.cc
    model/icmpv4-l4-protocol.cc
    model/icmpv4.cc
    model/icmpv6-header.cc
    model/icmpv6-l4-protocol.cc
    model/ip-l4-protocol.cc
    model/ipv4-address-generator.cc
    model/ipv4-end-point-demux.cc
    model/ipv4-end-point.cc
    model/ipv4-global-routing.cc
    model/ipv4-header.cc
    model/ipv4-interface-address.cc
    model/ipv4-interface.cc
    model/ipv4-l3-protocol.cc
    model/ipv4-list-routing.cc
    model/ipv4-packet-info-tag.cc
    model/ipv4-raw-socket-factory-impl.cc
    model/ipv4-raw-socket-factory.cc
    model/ipv4-raw-socket-impl.cc
    model/ipv4-route.cc
    model/ipv4-routing-protocol.cc
    model/ipv4-routing-table-entry.cc
    model/ipv4-static-routing.cc
    model/ipv4.cc
    model/ipv6-address-generator.cc
    model/ipv6-autoconfigured-prefix.cc
    model/ipv6-end-point-demux.cc
    model/ipv6-end-point.cc
    model/ipv6-extension-demux.cc
    model/ipv6-extension-header.cc
    model/ipv6-extension.cc
    model/ipv6-header.cc
    model/ipv6-interface-address.cc
    model/ipv6-interface.cc
    model/ipv6-l3-protocol.cc
    model/ipv6-list-routing.cc
    model/ipv6-option-demux.cc
    model/ipv6-option-header.cc
    model/ipv6-option.cc
    model/ipv6-packet-info-tag.cc
    model/ipv6-raw-socket-factory-impl.cc
    model/ipv6-raw-socket-factory.cc
    model/ipv6-raw-socket-impl.cc
    model/ipv6-route.cc
    model/ipv6-routing-protocol.cc
    model/ipv6-routing-table-entry.cc
    model/ipv6-static-routing.cc
    model/ipv6.cc
    model/loopback-net-device.cc
    model/ndisc-cache.cc
    model/nsc-sysctl.cc
    model/nsc-tcp-l4-protocol.cc
    model/nsc-tcp-socket-factory-impl.cc
    model/nsc-tcp-socket-impl.cc
    model/pending-data.cc
    model/rtt-estimator.cc
    model/seq-ts-header.cc
    model/tcp-header.cc
    model/tcp-l4-protocol.cc
    model/tcp-newreno.cc
    model/tcp-option-end.cc
    model/tcp-option-mss.cc
    model/tcp-option-no-op.cc
    model/tcp-option-sack-permitted.cc
    model/tcp-option-sack.cc
    model/tcp-option-ts.cc
    model/tcp-option-winscale.cc
    model/tcp-option.cc
    model/tcp-reno.cc
    model/tcp-rfc793.cc
    model/tcp-rx-buffer.cc
    model/tcp-socket-base.cc
    model/tcp-socket-factory-impl.cc
    model/tcp-socket-factory.cc
    model/tcp-socket.cc
    model/tcp-tahoe.cc
    model/tcp-tx-buffer.cc
    model/udp-header.cc
    model/udp-l4-protocol.cc
    model/udp-socket-factory-impl.cc
    model/udp-socket-factory.cc
    model/udp-socket-impl.cc
    model/udp-socket.cc
    helper/internet-stack-helper.cc
    helper/internet-trace-helper.cc
    helper/ipv4-address-helper.cc
    helper/ipv4-global-routing-helper.cc
    helper/ipv4-interface-container.cc
    helper/ipv4-list-routing-helper.cc
    helper/ipv4-routing-helper.cc
    helper/ipv4-static-routing-helper.cc
    helper/ipv6-address-helper.cc
    helper/ipv6-interface-container.cc
    helper/ipv6-list-routing-helper.cc
    helper/ipv6-routing-helper.cc
    helper/ipv6-static-routing-helper.cc
)

#set(private_header_files model/win32-internet-private.h)

set(header_files
    model/arp-cache.h
    model/arp-header.h
    model/arp-l3-protocol.h
    model/candidate-queue.h
    model/global-route-manager-impl.h
    model/global-route-manager.h
    model/global-router-interface.h
    model/global-routing.h
    model/icmpv4-l4-protocol.h
    model/icmpv4.h
    model/icmpv6-header.h
    model/icmpv6-l4-protocol.h
    model/ip-l4-protocol.h
    model/ipv4-address-generator.h
    model/ipv4-end-point-demux.h
    model/ipv4-end-point.h
    model/ipv4-global-routing.h
    model/ipv4-header.h
    model/ipv4-interface-address.h
    model/ipv4-interface.h
    model/ipv4-l3-protocol.h
    model/ipv4-list-routing.h
    model/ipv4-packet-info-tag.h
    model/ipv4-raw-socket-factory-impl.h
    model/ipv4-raw-socket-factory.h
    model/ipv4-raw-socket-impl.h
    model/ipv4-route.h
    model/ipv4-routing-protocol.h
    model/ipv4-routing-table-entry.h
    model/ipv4-static-routing.h
    model/ipv4.h
    model/ipv6-address-generator.h
    model/ipv6-autoconfigured-prefix.h
    model/ipv6-end-point-demux.h
    model/ipv6-end-point.h
    model/ipv6-extension-demux.h
    model/ipv6-extension-header.h
    model/ipv6-extension.h
    model/ipv6-header.h
    model/ipv6-interface-address.h
    model/ipv6-interface.h
    model/ipv6-l3-protocol.h
    model/ipv6-list-routing.h
    model/ipv6-option-demux.h
    model/ipv6-option-header.h
    model/ipv6-option.h
    model/ipv6-packet-info-tag.h
    model/ipv6-raw-socket-factory-impl.h
    model/ipv6-raw-socket-factory.h
    model/ipv6-raw-socket-impl.h
    model/ipv6-route.h
    model/ipv6-routing-protocol.h
    model/ipv6-routing-table-entry.h
    model/ipv6-static-routing.h
    model/ipv6.h
    model/loopback-net-device.h
    model/ndisc-cache.h
    model/nsc-sysctl.h
    model/nsc-tcp-l4-protocol.h
    model/nsc-tcp-socket-factory-impl.h
    model/nsc-tcp-socket-impl.h
    model/pending-data.h
    model/rdma.h
    model/rtt-estimator.h
    model/seq-ts-header.h
    model/sim_errno.h
    model/sim_interface.h
    model/tcp-header.h
    model/tcp-l4-protocol.h
    model/tcp-newreno.h
    model/tcp-option-end.h
    model/tcp-option-mss.h
    model/tcp-option-no-op.h
    model/tcp-option-sack-permitted.h
    model/tcp-option-sack.h
    model/tcp-option-ts.h
    model/tcp-option-winscale.h
    model/tcp-option.h
    model/tcp-reno.h
    model/tcp-rfc793.h
    model/tcp-rx-buffer.h
    model/tcp-socket-base.h
    model/tcp-socket-factory-impl.h
    model/tcp-socket-factory.h
    model/tcp-socket.h
    model/tcp-tahoe.h
    model/tcp-tx-buffer.h
    model/udp-header.h
    model/udp-l4-protocol.h
    model/udp-socket-factory-impl.h
    model/udp-socket-factory.h
    model/udp-socket-impl.h
    model/udp-socket.h
    helper/internet-stack-helper.h
    helper/internet-trace-helper.h
    helper/ipv4-address-helper.h
    helper/ipv4-global-routing-helper.h
    helper/ipv4-interface-container.h
    helper/ipv4-list-routing-helper.h
    helper/ipv4-routing-helper.h
    helper/ipv4-static-routing-helper.h
    helper/ipv6-address-helper.h
    helper/ipv6-interface-container.h
    helper/ipv6-list-routing-helper.h
    helper/ipv6-routing-helper.h
    helper/ipv6-static-routing-helper.h
)

set(libraries_to_link ${libnetwork} ${libcore} ${libbridge} ${libtraffic-control})

set(test_sources
    test/error-channel.cc
    test/error-net-device.cc
    test/global-route-manager-impl-test-suite.cc
    test/ipv4-address-generator-test-suite.cc
    test/ipv4-address-helper-test-suite.cc
    test/ipv4-fragmentation-test.cc
    test/ipv4-header-test.cc
    test/ipv4-list-routing-test-suite.cc
    test/ipv4-packet-info-tag-test-suite.cc
    test/ipv4-raw-test.cc
    test/ipv4-test.cc
    test/ipv6-address-generator-test-suite.cc
    test/ipv6-address-helper-test-suite.cc
    test/ipv6-dual-stack-test-suite.cc
    test/ipv6-extension-header-test-suite.cc
    test/ipv6-fragmentation-test.cc
    test/ipv6-list-routing-test-suite.cc
    test/ipv6-packet-info-tag-test-suite.cc
    test/ipv6-test.cc
    test/tcp-test.cc
    test/udp-test.cc
)

build_lib("${name}" "${source_files}" "${header_files}" "${libraries_to_link}" "${test_sources}")

#file(COPY "${private_header_files}" DESTINATION ${CMAKE_HEADER_OUTPUT_DIRECTORY}/private)
